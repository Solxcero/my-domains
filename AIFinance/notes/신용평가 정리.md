## 여러 나라의 신용평가 시스템 
### 미국 - 신용사회
1. FCRA(Fair Credit Reporting Act) : 미국의 신용 보고 체계 기반이 되는 법률. 
2. 신용 평가 기관 : Equifax, Experian, TransUnion 과 같은 세 개의 주요 신용 평가 기관이 있음.
3. 신용 점수 모델 : 피코(Fico), VantageScore가 가장 널리 사용되는 모델. 그러나 비자나 마스터카드와 같은 결제 네트워크 회사들은 자체적인 신용 평가 모델을 사용함. Wells Fargo, 체이스 은행과 같은 대형 은행들 역시 자체 모델 개발하여 사용. 
### 그외 
1. 스페인 : 스페인의 신용 평가는 소비자의 신용 이력에 중점을 두며, 특히 부정적인 항목(연체, 미납 등)의 추적에 초점을 맞춤. 잠재적인 리스크가 높은 고객 식별 
2. 독일 : SCHUFA와 같은 개인신용평가기관이 신용 평가의 대부분을 담당.

## 핀테크에서의 신용 평가 모델 
- `BNPL ; Buy Now Pay Later` 상품 주목. -> 신용 평가 모델 활용에 혁신적인 방법. b/c 소비자에게 새로운 금융 솔루션을 제시한거니까.
    즉, 소비자들에게 쇼핑의 편의성을 높여주는 동시에, 기업에게는 신용 평가 모델을 통한 리스크 관리와 맞춤형 금융 솔루션 제공의 기회 열어줌. 
- 이처럼 소액 후불결제 서비스들의 성공은 신용 평가 모델이 단순히 전통적인 금융 정보에만 의존하지 않고, 고객의 온라인 거래 이력, 소셜 미디어 활동 등 다양한 비정형 데이터를 분석하여 더 정교한 신용 평가를 가능하게 한다는 사실을 반영. 
- 이는 핀테크 기업들이 전통적인 금융기관이 간과할 수 있는 신용 거래의 잠재력을 가진 고객층을 발굴하고, 이들에게 금융 서비스를 제공할 수 있는 기반을 마련해줌. 

### 대안 신용 평가 모델 
- 전통적인 신용 평가 기관에서 수집한 데이터가 아닌 통신 데이터, 부동산 중개 플랫폼, 이커머스 플랫폼 등 다양한 소스에서 수집된 데이터를 결합하거나 단독으로 사용하는 신용 평가 시스템의 등장 
- 금융 서비스의 접근성을 향상시키고, 더 많은 사람들에게 맞춤형 금융 서비스를 제공할 수 있는 가능성을 열어주고 있음. 

## 신용 리스크 관리 체계
**체계의 핵심 요소**
- 신용 평가 및 분석 : 대출 신청자의 신용 능령 평가, 신용 위험 수준 분석.-> 신용 등급, 신용 조회 기록, 연체 정보, 부채 정보 등의 다양한 정보 활용. 여기에는 내부 모델 및 외부 평가 기관의 평가 결과를 종합적으로 고려하는 작업 포함
- 대출 기준 및 정책 설정 : 신용 위험 수준에 따라 대출 가능 여부, 대출 금액, 금리 등을 결정하는 기준을 설정. 산업별, 고객별 위험 특성을 반영하여 정책을 차별화하고, 경제 상황과 시장 변화를 고려하여 정책을 지속적으로 검토하고 업데이트.  
- 대출 후 관리 : 대출 실행 후에 고객의 신용 상황을 지속적으로 모니터링. 연체, 부채 증가 등의 위험한 상황이 발생할 경우 신속하게 조치. 이 과정에서 추가적인 신용 평가, 상담, 재구조 조정 등 다양한 관리 방법 활용 
- 데이터 분석 및 모델 활용 : 신용 리스크와 관련된 데이터를 분석하여 신용 평가 모델, 사기 감지 모델 등을 개발하고, 모델의 효과성을 지속적으로 평가하고 개선. 
- 리스크 관리 시스템 구축 : 신용 리스크 관리와 관련된 정책, 절차, 시스템 구축. 리스크 관리 위원회를 통한 감독과 내부 통제 시스템의 강화를 통해 리스크 관리 프로세스의 효과성을 확보. 
- 규제 준수 : 관련 법규 및 규제를 준수하며, 금융감독원의 검사 및 평가에 대비
---------------------------------------------------------------------------------------------
이러한 핵심 요소를 중심으로 각자의 체계를 구성하고 각 고객의 리스크 프로필을 동적으로 갱신하며 조정된 대출 조건 제공. 하지만 인공지능 중심으로 접근하는 현대화된 신용 리스크 관리 체계는 모든 의사결정의 핵심인 데이터를 더욱 체계적으로 관리하고 있으며, 전략 체계는 다양한 시나리오와 실시간 시장 변화에 대응할 수 있는 유연성을 갖추고 있음.   

이 체계에서 데이터 관리는 통합된 `DW (data warehouse)` 와 `data lake` 를 통해 신용 정보, 거래 데이터, 고객 행동 데이터 등 다양한 데이터 소스를 통합하여 관리.  
![신용 리스크 관리 체계](https://github.com/user-attachments/assets/17102b7e-b8a0-4c07-8ea2-b573da1850bc)

1. 데이터 체계에서 적합한 데이터 저장 및 처리 도구의 선택 
- 다양한 데이터 유형(실시간 거래 데이터, 고객 신용 이력 데이터, 대출 상환 내역 등)을 효율적으로 처리하고 저장할 수 있는 도구를 선택하는 것. 예를 들어 실시간 거래 데이터 처리를 위해 아파치 카프카와 같은 메세지 브로커 시스템을 활용하면, 데이터 스트림을 신속하게 캡처하고 처리할 수 있음. 반면, 고객의 신용 이력이나 대출 상환 내역과 같은 구조화된 데이터는 아마존 레드시프트나 구글 빅쿼리와 같은 관계형 데이터베이스 또는 데이터 웨어하우스에 저장하여 효과적으로 관리하고 쿼리함. 
- 데이터 파이프라인의 효율적인 설계 및 구현 : 데이터 수집, 처리, 분석, 저장 과정을 자동화하고 최적화하는 것은 신용 리스크 관리의 핵심. 아파치 에어플로 또는 Prefect와 같은 워크플로 관리 도구를 사용하여 데이터 파이프라인을 설계하고 구현함으로써, 신용 리스크 모델을 지속적으로 업데이트하고 최적화. 이러한 도구는 데이터 처리 작업의 스케줄링, 실행, 모니터링을 자동화하여, 데이터 관리 프로세스의 신뢰성과 효율성 보장. 
- 데이터 보안 및 규제 준수의 강화 : 데이터 암호화, 접근 제어, 감사 로그 관리를 포함한 다양한 보안 조치를 적용하여 데이터 보호 강화. 

2. 전략 체계의 구현을 위해 `규칙 저장소`가 중요한 역할을 함. 규칙 저장소는 금융기관이 설정한 다양한 운영 규칙, 사기 탐지 규칙, 리스트 관리 규칙 등을 저장하고 관리하는 시스템. 또한 규칙 저장소는 `규칙엔진`과 연동되어, 특정 조건이 만족될 때 자동으로 적절한 규칙이 적용되도록 함.  
> 규칙 저장소와 규칙 엔진의 조합은 전략 체계의 핵심

3. **모델 체계 상세**
- 대출 전 모델링 (pre-loan modeling) : 대출 승인 전에 신청자의 신용도와 상환 능력을 평가하기 위한 모델링
    - 신용 사기 탐지 모델 (credit fraud detection model) : 신청서의 불일치, 비정상적인 신청 패턴 등 식별
    - 진입 통제 모델 (entry control model) : 신용 점수가 미달인 신청자를 식별하여 위험 대출의 진입 통제
    - 신청 평점 모델 (application scoring model) : 신청자의 데이터를 기반으로 신용도 평가
    - 한도 관리 모델 (limit management model) :고객에게 부여할 신용 한도 결정
- 대출 중 모델링 (during-loan modeling) : 대출 기간 동안 대출자의 상환 상태와 위험을 모니터링
    - 행동 평점 모델 (behavioral scoring model) : 대출자의 현재 행동 데이터를 분석하여 미래의 신용 위험 예측
    - 조기 경보 모델 (eartly warning model) : 잠재적인 위험 신호를 감지하여 조치를 취하기 전에 위험 알려줌
    - 고객 유실 경보 모델 (customer attrition warning model) : 고객 유실 가능성을 예측하여 이를 방지하기 위한 조치를 취함
- 대출 후 모델링 (post-loan modeling) : 대출 상환 완료 후 대출자의 신용도와 향후 대출 가능성을 평가하기 위함
    - 추심 모델 (collection model) : 채무 불이행 고객에 대한 회수 활동의 우선순위를 결정하고 최적의 추심 전략 수립. 

## 신용 평가 모델 평가 지표
[성능지표 링크](https://www.nicecredit.co.kr/nicecredit/home/jsp/credit/02credit_02_4.jsp)
### K-S 통계량
- 모델이 신용 리스크를 얼마나 잘 구별하는지 측정. 
- 모델이 우량 고객과 불량 고객을 얼마나 명확하게 구분하는지를 나타냄. 

![K-S통계량](https://wwwhttps://github.com/user-attachments/assets/2f65fd06-fc07-4783-bcc8-aad7eb388c56)  

- 우량집단과 불량집단 사이의 누적 분포 차이를 최대화하는 값. 즉, 신용 평가 모델이 생성한 점수에 따라 고객을 우량과 불량으로 분류했을 때, 이 두 집단의 누적 분포 곡선 사이의 최대 거리를 K-S 통계량으로 측정. 
**과정 상세**
1. 신용 평가 모델을 통해 모든 고객에게 신용 점수를 할당. 점수 높으면 고객 신용 위험도 높음
2. 할당된 신용 점수를 기준으로 고객을 우량집단과 불량집단으로 분류. 우량집단은 상대적으로 신용 점수가 높은 고객으로 구성되고, 불량집단은 신용 점수가 낮은 고객으로 구성
3. 각 집단에 대한 누적 분포 곡선 그림. 이는 모든 가능한 신용 점수 임계값에 대해, 그 임곗값 이상의 고객 비율을 우량집단과 불량집단 각각에 대해 계산하여 그래프로 나타낸 것. 
4. 누적 분포 곡선 사이의 거리를 모든 임곗값에 대해 계산. 이 거리는 우량집단의 누적 비율과 불량집단의 누적 비율 차이로, 각 점수 임곗값에서 계산됨.
5. 계산된 거리 중 최댓값이 K-S 통계량이 되며, 이 최댓값은 우량집단과 불량집단을 가장 잘 구분하는 신용 점수 임곗값에서 발생하며, 이 값이 모델의 변별력을 나타냄. 

- 보통 K-S 통계량이 20 이상일 때, 모델의 변별력이 충분하다고 간주. 

### PSI (Population Stability Index)
- 모델의 안정성을 평가하는 데 사용되는 지표. 시간이 지나면서 모델 입력 변수의 분포가 얼마나 변화하는지 측정. 
$$
PSI = (%O - %E) \cdot \ln\left(\frac{%O}{%E}\right)
$$
( %E : 기준시점 구성비, %O : 현재 구성비)
1. 기준 시점과 비교 시점을 정함. 기준 시점은 모델이 개발되거나 마지막으로 검증된 시점일 수 있으며, 비교 시점은 현재 또는 특정 시점이 될 수 있음
2. 기준 시점과 비교 시점에 대한 모델 입력 변수의 분포를 구함. 이때 변수의 전체 범위를 몇 개의 구간으로 나누고, 각 구간에 속하는 관측치의 비율을 계산.
3. 각 구간에 대해 기준 시점과 비교 시점의 분포 비율 차이를 계산

- PSI <= 0.1 : 모델의 분포 안정적
- 0.1 < PSI < 0.25 : 경미한 변화가 있음
- PSI >= 0.25 : 모델의 분포가 크게 변함.

- PSI 값이 크다는 것은 모델 입력 변수의 분포가 시간에 따라 크게 변화했으며, 이는 모델의 예측 성능에 영향을 줄 수 있음을 나타냄. 
- PSI를 통해 모델이 시간에 따라 얼마나 안정적인지 평가함으로써, 금융기관은 모델을 지속적으로 모니터링하고 필요한 경우 모델을 조정하거나 재개발할 수 있음. 

### AUC-ROC
- 0.5 ~ 0.6 : 낮은 성능
- 0.6 ~ 0.7 : 보통 성능
- 0.7 ~ 0.8 : 양호한 성능
- 0.8 ~ 0.9 : 좋은 성능
- 0.9 ~ 1 : 매우 좋은 성능

국내 개인 신용 점수 모델의 경우 데이터가 잘 구비되어 있어 AUC-ROC 값이 80% 이상인 경우가 많음 . 

## 신용 평가에 필요한 개념
1. 연체 기간
- 연체 기간 (`M`) 은 M0 부터 M7+ 까지 다양한 구간으로 나뉨. 
2. 관찰 시점
3. 관찰 기간
4. 성능 기간 : 관찰 시점 이후로 설정 -> 모델을 예측력 검증
- 신용 위험의 결과 레이블을 정의하는 시간 범위. 신용 위험은 지연 효과가 있으므로, 대출 후 일정 기간이 지난 후에야 연체가 발생할 수 있음. 
5. 종속 변수 : 연체 혹 파산 등
6. 성능 기간 설정과 빈티지 분석 
- 고객의 대출 상황을 시간에 따라 추적함으로써, 어떤 시점에서 고객이 돈을 제때 갚지 못할 가능성이 높아지는지 알아내기 위함. 
- 빈티지 분석은 대출이 시작된 시점부터 고객이 어떻게 행동하는지를 월별로 살펴보는 방법. 
- 빈티지 분석이 중요한 이유
    - 시간에 따른 패턴 이해 
    - 적절한 성능 기간 설정 : 패턴을 이해함으로써 모델이 예측해야 하는 성능 기간을 더 정확하게 설정할 수 있음 